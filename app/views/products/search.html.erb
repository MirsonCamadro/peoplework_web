<h1 class="my-3">Busqueda de productos en la API requerida</h1>

<%= form_tag(products_search_path, method: :get, class:"mt-4") do %>
    <%= label_tag(:query, "Puedes buscar id, marca o descrpcion del producto") %>
    <br>
    <%= text_field_tag(:query) %>
    <%= submit_tag("Buscar") %>
<% end %>

<%# validando si hay productos %>

<% if @products.any? %>
    <h2 class="mt-4">Resultado de la busqueda</h2>

    <div class="table-responsive">
        <table class="table table-dark table-hover text-center mb-5">
            <thead>
                <tr>
                <th scope="col">Id</th>
                <th scope="col">Marca</th>
                <th scope="col">Descripcion</th>
                <th scope="col">Precio</th>
                </tr>
            </thead>
            <% @products.each do |product| %>
                <tbody>
                    <tr>
                        <td><%= product["id"] %></td>
                        <td><%= product["branch"] %></td>
                        <td><%= product["description"] %></td>
                        <td><%= product["price"] %></td>
                    </tr>
                </tbody>
            <% end %>
        </table>
    </div>
<% end %>